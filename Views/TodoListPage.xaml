<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:views="clr-namespace:ToDoListApp.Views"
    x:Class="ToDoListApp.Views.TodoListPage"
    Title="Your Tasks">
    <ContentPage.ToolbarItems>
        <ToolbarItem Clicked="OnItemAdded" IconImageSource="cross.png">
        </ToolbarItem>

        <ToolbarItem Clicked="OnItemAdded" IconImageSource="icon.png">
        </ToolbarItem>

    </ContentPage.ToolbarItems>
    <StackLayout>
    <!-- Header Grid -->
    <views:HeaderGrid x:Name="HeaderGrid"/>
    
    <ListView x:Name="listView" Margin="8" ItemSelected="OnListItemSelected">
        <ListView.ItemTemplate>
            <DataTemplate>
                <ViewCell>

                    <StackLayout Margin="0,0,0,0"
                                 Padding="0"
                                 HorizontalOptions="FillAndExpand"
                                 Orientation="Horizontal"
                                 >
                        <CheckBox IsChecked="{Binding Done}" Margin="-7,0,0,0"/>
                        <Label HorizontalOptions="StartAndExpand" VerticalOptions="Center" Text="{Binding Name }" />

                        <Label HorizontalOptions="StartAndExpand" LineBreakMode="TailTruncation" Margin="-65,0,0,0" WidthRequest="130" VerticalOptions="Center" Text="{Binding Notes }" />
                        <Label HorizontalOptions="StartAndExpand" VerticalOptions="Center" Margin="-30,0,0,0" Text="{Binding Date, StringFormat='{0:g}'}" />
                        <Image HorizontalOptions="End"
                               WidthRequest="35"
                               IsVisible="{Binding Done}" 
                               Source="check.png" />
                    </StackLayout>
                </ViewCell>
            </DataTemplate>
        </ListView.ItemTemplate>
    </ListView>
    </StackLayout>
</ContentPage>